minimum_rancher_version: v2.2.0
questions:
# - variable: defaultImage
#   default: true
#   description: "是否使用默认的Docker镜像版本设置"
#   label: "默认Docker镜像"
#   type: boolean
#   show_subquestion_if: false
#   group: "镜像"
#   subquestions:
#   - variable: image.repository
#     default: "code.yunyi.pro:5002/dataplatform/pgadminmanage"
#     description: "pgadmin服务Docker镜像名（默认不需要修改）"
#     type: string
#     label: "影像服务Docker镜像名"
#   - variable: image.tag
#     default: "v1.0.1"
#     description: "影像服务Docker镜像版本(tag)"
#     type: string
#     label: 影像服务Docker镜像版本(tag)
# - variable: replicaCount
#   default: 1
#   description: "同时运行多少个pgadmin服务（一般不需要修改）"
#   min: 1
#   max: 5
#   label: "同时运行多少个影像服务"
#   type: int
#   group: "运行配置"
- variable: useLocalStore
  default: true
  description: "是否使用单机存储，默认为是，如果为否则使用分布式存储，前提：已部署分布式存储"
  label: "使用单机存储"
  type: boolean
  show_subquestion_if: true
  group: "运行配置"
  subquestions:
  - variable: nodename
    required: true
    default: "node1"
    description: "集群内的机器名（拼音或者英文），默认在master上面"
    label: "集群内的机器名"
    type: string
    group: "运行配置"
  - variable: datapath
    required: true
    default: "/root/test"
    description: "配置文件存储的主机硬盘路径，必须先创建该文件夹,并修改该文件夹的用户，如：chown -R 5050:5050 /mnt/sdb1/kubernetes/data/pgadmin/sessiondata"
    label: "配置存储位置"
    type: string
    group: "运行配置"
- variable: config.email
  required: true
  default: "admin@yunyi.pro"
  description: "pgadmin访问用户名邮箱"
  label: "pgadmin访问用户名邮箱"
  type: string
  group: "程序配置"
- variable: config.password
  required: true
  default: "N6vb4$%RP*QyZm!F$lHRVa!q"
  description: "pgadmin访问密码，可使用随机生成（生成的密码在安装后的APP管理中可以看到），自己设置请设置复杂的密码，因为如果在pgadmin中记往访问过的数据库的密码，访问pgadmin就可以访问集群中保存过密码的任何数据库；修改密码时不能通过这里来修改，需要登陆pgadmin后修改密码，然后可以再在这里输入修改后的密码"
  label: "pgadmin访问密码"
  type: password
  group: "程序配置"
- variable: service.nodePort
  default: 8000
  description: "http端口，可使用此端口访问pgadmin来管理集群内部的pgsql数据库"
  min: 81
  max: 32767
  label: "http端口"
  type: int
  group: "程序配置"
  # - variable: ingressShim.defaultIssuerName
  #   default: "letsencrypt-staging"
  #   required: true
  #   type: enum
  #   description: "Let's Encrypt ACME clients, use staging environment to avoid hitting rate limits"
  #   label: Let's Encrypt Cluster Issuer clients
  #   group: "Settings"
  #   options:
  #   - "letsencrypt-staging"
  #   - "letsencrypt-prod"
